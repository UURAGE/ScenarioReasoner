{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "description": "A state for the scenario",
  "type": "object",
  "properties": {
    "parameters": {
      "id": "parameters",
      "description": "The incremental scores per parameter for the choice",
      "type": "object",
      "patternProperties": {
        "^p[0-9]+$": { "type": "integer" }
      },
      "additionalProperties": false,
      "example": {
        "p1": 0,
        "p2": 0,
        "p3": 0,
        "p4": 0
      }
    },
    "emotions": {
      "id": "emotions",
      "description": "The emotion values for the virtual character for the choice",
      "type": "object",
      "patternProperties": {
        "^[a-zA-Z]+$": { "type": "integer" }
      },
      "additionalProperties": false,
      "example": {
        "fear": 0,
        "happiness": 5
      }
    },
    "statement": {
      "type": [ "object", "null" ],
      "properties": {
        "type": {
          "id": "type",
          "description": "The statement type: whether it is for a computer or a player",
          "type": "string",
          "enum": [ "player", "computer" ]
        },
        "text": {
          "id": "text",
          "description": "The actual text for the statement",
          "type": "string"
        },
        "intentions": {
          "id": "intentions",
          "description": "The intentions associated with the statement",
          "type": "array",
          "items": {
            "type": "string"
          },
          "additionalItems": false
        },
        "feedback": {
          "id": "feedback",
          "description": "The feedback statement provided to the player",
          "type": [ "string", "null" ]
        },
        "media": {
          "id": "media",
          "description": "The media to be rendered with the statement",
          "type": "object",
          "properties": {
            "visuals": {
              "id": "visuals",
              "description": "An array of visual IDs with their extensions combined with their types",
              "type": "array",
              "items": {
                "type": "array",
                "minItems": 2,
                "maxItems": 2,
                "items": [
                  {
                    "id": "0",
                    "description": "The type of the visual",
                    "type": "string",
                    "enum": [ "image", "video" ]
                  },
                  {
                    "id": "1",
                    "description": "The visual ID",
                    "type": "string"
                  }
                ]
              },

              "additionalItems": false
            },
            "audios": {
              "id": "audios",
              "description": "An array of audio IDs with their extensions",
              "type": "array",
              "items": {
                "description": "The audio ID",
                "type": "string"
              },
              "additionalItems": false
            }
          }
        }
      },
      "additionalProperties": false,
      "required": [ "feedback", "intentions", "media", "text", "type" ]
    },
    "internal": {
      "type": "object",
      "description": "This object contains internal data for the ScenarioReasoner and must not be removed from the state",
      "properties": {
        "end": {
          "id": "end",
          "description": "Indicates whether this statement ends the scenario or not",
          "type": "boolean"
        }
      },
      "additionalProperties": false,
      "required": ["end"]
    }
  },
  "required": [ "parameters", "emotions", "internal" ]
  // statement will be present in output, but is not required in input
}
